# ğŸ”” Jenkins Webhook Setup with GitHub (Pipeline)

---

## 1ï¸âƒ£ Install Required Plugins ğŸ§©

* **Pipeline Stage View** ğŸ‘€ â†’ shows a graphical view of pipeline stages and their status.
* **Eclipse Temurin Installer** â˜• â†’ provides Java runtimes (required by Jenkins builds).
* **Generic Webhook Trigger** ğŸŒ â†’ allows Jenkins jobs to be triggered by incoming webhooks with flexible filtering.

ğŸ‘‰ These plugins must be installed from **Manage Jenkins â†’ Plugins** before configuring webhooks.

---

## 2ï¸âƒ£ Configure Token Credentials ğŸ”‘

* Go to **Manage Jenkins â†’ Credentials â†’ Global credentials (unrestricted)**.
* Add new credential:

  * **Kind:** Secret text
  * **Secret:** `nakod1234` (example)
  * **ID:** `nakod1234`
* Save âœ…

This token will be used to authenticate GitHub â†’ Jenkins.

---

## 3ï¸âƒ£ Configure Jenkins Job âš™ï¸

1. Open your **Pipeline Job** â†’ **Configure** â†’ **Triggers**.
2. Enable âœ… **Generic Webhook Trigger**.
3. Use this URL format:

   ```
   http://JENKINS_URL/generic-webhook-trigger/invoke?token=TOKEN_HERE
   ```
>[!NOTE]
ğŸ“Œ Summary
- Secret â†’ used in the URL as the token like `nakod1234`
 - ID â†’ used inside Jenkins job configurations (when selecting a credential) like `webhook-secret`

```sh
http://23.22.182.236:8080/generic-webhook-trigger/invoke?token=nakod1234
```

Example:
```
http://23.22.182.236:8080/generic-webhook-trigger/invoke?token=nakod1234
   ```
1. Add **Post content parameters** if needed:

   * Example variable: `ref`
   * Expression: `$.ref`
   * Use **JSONPath** to extract branch info.

---

## 4ï¸âƒ£ Configure GitHub Webhook ğŸ™

1. Go to **GitHub Repo â†’ Settings â†’ Webhooks â†’ Add webhook**.
2. **Payload URL:**

   ```
   http://23.22.182.236:8080/generic-webhook-trigger/invoke?token=nakod1234
   ```
3. **Content type:** `application/json`
4. **Events:** Select â†’ `Just the push event` ğŸ“¦
5. **Activate** âœ… and save.

---

## 5ï¸âƒ£ Add Optional Filters ğŸ¯

Inside Jenkins Job â†’ **Triggers**:

* Example filter: trigger only on `dev` branch.

  ```
  Expression: refs/heads/dev
  Text: $ref
  ```

---

## 6ï¸âƒ£ Save and Test ğŸš€

* Save Jenkins job.
* Push code to GitHub branch.
* Jenkins should trigger automatically ğŸ”„.

---

## âš¡ Recap

* Plugins installed (Stage View, Temurin, Webhook Trigger).
* Token created in Jenkins Credentials.
* Jenkins job configured with webhook + token.
* GitHub repo webhook created pointing to Jenkins.
* Test push â†’ Jenkins build auto-starts âœ….
