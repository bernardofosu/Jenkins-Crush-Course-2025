# 🔔 Jenkins Webhook Setup with GitHub (Pipeline)

---

## 1️⃣ Install Required Plugins 🧩

* **Pipeline Stage View** 👀 → shows a graphical view of pipeline stages and their status.
* **Eclipse Temurin Installer** ☕ → provides Java runtimes (required by Jenkins builds).
* **Generic Webhook Trigger** 🌐 → allows Jenkins jobs to be triggered by incoming webhooks with flexible filtering.

👉 These plugins must be installed from **Manage Jenkins → Plugins** before configuring webhooks.

---

## 2️⃣ Configure Token Credentials 🔑

* Go to **Manage Jenkins → Credentials → Global credentials (unrestricted)**.
* Add new credential:

  * **Kind:** Secret text
  * **Secret:** `nakod1234` (example)
  * **ID:** `nakod1234`
* Save ✅

This token will be used to authenticate GitHub → Jenkins.

---

## 3️⃣ Configure Jenkins Job ⚙️

1. Open your **Pipeline Job** → **Configure** → **Triggers**.
2. Enable ✅ **Generic Webhook Trigger**.
3. Use this URL format:

   ```
   http://JENKINS_URL/generic-webhook-trigger/invoke?token=TOKEN_HERE
   ```
>[!NOTE]
📌 Summary
- Secret → used in the URL as the token like `nakod1234`
 - ID → used inside Jenkins job configurations (when selecting a credential) like `webhook-secret`

```sh
http://23.22.182.236:8080/generic-webhook-trigger/invoke?token=nakod1234
```

Example:
```
http://23.22.182.236:8080/generic-webhook-trigger/invoke?token=nakod1234
   ```
1. Add **Post content parameters** if needed:

   * Example variable: `ref`
   * Expression: `$.ref`
   * Use **JSONPath** to extract branch info.

---

## 4️⃣ Configure GitHub Webhook 🐙

1. Go to **GitHub Repo → Settings → Webhooks → Add webhook**.
2. **Payload URL:**

   ```
   http://23.22.182.236:8080/generic-webhook-trigger/invoke?token=nakod1234
   ```
3. **Content type:** `application/json`
4. **Events:** Select → `Just the push event` 📦
5. **Activate** ✅ and save.

---

## 5️⃣ Add Optional Filters 🎯

Inside Jenkins Job → **Triggers**:

* Example filter: trigger only on `dev` branch.

  ```
  Expression: refs/heads/dev
  Text: $ref
  ```

---

## 6️⃣ Save and Test 🚀

* Save Jenkins job.
* Push code to GitHub branch.
* Jenkins should trigger automatically 🔄.

---

## ⚡ Recap

* Plugins installed (Stage View, Temurin, Webhook Trigger).
* Token created in Jenkins Credentials.
* Jenkins job configured with webhook + token.
* GitHub repo webhook created pointing to Jenkins.
* Test push → Jenkins build auto-starts ✅.
